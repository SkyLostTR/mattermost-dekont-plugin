<!DOCTYPE html>
<html lang="{{ page.lang | default: site.lang | default: "en" }}">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  {%- seo -%}
  
  <link rel="stylesheet" href="{{ "/assets/main.css" | relative_url }}">
  <link rel="stylesheet" href="{{ "/assets/custom.css" | relative_url }}">
  
  {%- feed_meta -%}
  {%- if jekyll.environment == 'production' and site.google_analytics -%}
    {%- include google-analytics.html -%}
  {%- endif -%}
  
  <!-- Favicon -->
  <link rel="icon" type="image/x-icon" href="{{ "/assets/favicon.ico" | relative_url }}">
  
  <!-- Additional meta tags -->
  <meta name="description" content="{{ page.description | default: site.description | strip_html | normalize_whitespace | truncate: 160 | escape }}">
  <meta name="keywords" content="Mattermost, PDF, Parser, Turkish, Bank, Receipt, Dekont, Plugin">
  <meta name="author" content="{{ site.author }}">
  
  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="{{ page.url | absolute_url }}">
  <meta property="og:title" content="{{ page.title | default: site.title }}">
  <meta property="og:description" content="{{ page.description | default: site.description }}">
  <meta property="og:image" content="{{ "/assets/og-image.png" | absolute_url }}">
  
  <!-- Twitter -->
  <meta property="twitter:card" content="summary_large_image">
  <meta property="twitter:url" content="{{ page.url | absolute_url }}">
  <meta property="twitter:title" content="{{ page.title | default: site.title }}">
  <meta property="twitter:description" content="{{ page.description | default: site.description }}">
  <meta property="twitter:image" content="{{ "/assets/og-image.png" | absolute_url }}">
</head>

<body>

  {%- include header.html -%}

  <main class="page-content" aria-label="Content">
    <div class="wrapper">
      
      {%- if page.layout == 'default' -%}
        <!-- Navigation breadcrumb -->
        <nav class="breadcrumb" aria-label="Breadcrumb">
          <ol>
            <li><a href="{{ "/" | relative_url }}">Home</a></li>
            {%- if page.title != "Home" -%}
              <li aria-current="page">{{ page.title }}</li>
            {%- endif -%}
          </ol>
        </nav>
      {%- endif -%}
      
      {{ content }}
      
      {%- if page.layout == 'default' and page.title != "Home" -%}
        <!-- Page navigation -->
        <nav class="page-nav" aria-label="Page navigation">
          <div class="nav-links">
            {%- assign pages = site.pages | where_exp: "item", "item.nav_order" | sort: "nav_order" -%}
            {%- for p in pages -%}
              {%- if p.title == page.title -%}
                {%- assign current_index = forloop.index -%}
                {%- assign prev_index = current_index | minus: 1 -%}
                {%- assign next_index = current_index | plus: 1 -%}
                
                {%- if prev_index > 0 -%}
                  {%- assign prev_page = pages[prev_index] -%}
                  <a href="{{ prev_page.url | relative_url }}" class="nav-link prev">
                    ← {{ prev_page.title }}
                  </a>
                {%- endif -%}
                
                {%- if next_index <= pages.size -%}
                  {%- assign next_page = pages[next_index] -%}
                  <a href="{{ next_page.url | relative_url }}" class="nav-link next">
                    {{ next_page.title }} →
                  </a>
                {%- endif -%}
              {%- endif -%}
            {%- endfor -%}
          </div>
        </nav>
      {%- endif -%}
      
    </div>
  </main>

  {%- include footer.html -%}

  <!-- Back to top button -->
  <button id="back-to-top" aria-label="Back to top">↑</button>

  <script>
    // Back to top functionality
    const backToTopButton = document.getElementById('back-to-top');
    
    window.addEventListener('scroll', () => {
      if (window.pageYOffset > 300) {
        backToTopButton.style.display = 'block';
      } else {
        backToTopButton.style.display = 'none';
      }
    });
    
    backToTopButton.addEventListener('click', () => {
      window.scrollTo({
        top: 0,
        behavior: 'smooth'
      });
    });
    
    // Smooth scrolling for anchor links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
          target.scrollIntoView({
            behavior: 'smooth',
            block: 'start'
          });
        }
      });
    });
  </script>

</body>

</html>
